<div class="max-w-6xl mx-auto bg-gray-100 p-6 rounded-lg shadow">
  <h2 class="text-2xl font-bold text-gray-800 mb-4">Lista de Reservaciones</h2>
  <p-table [value]="data" [paginator]="true" [rows]="5" [resizableColumns]="true" [responsiveLayout]="'scroll'">
    <ng-template pTemplate="header">
      <tr>
        <th *ngIf="isAdmin" pSortableColumn="usuario">Usuario <p-sortIcon field="usuario"></p-sortIcon></th>
        <th pSortableColumn="nombre_espacio">Espacio <p-sortIcon field="nombre_espacio"></p-sortIcon></th>
        <th pSortableColumn="fecha">Fecha <p-sortIcon field="fecha"></p-sortIcon></th>
        <th pSortableColumn="estado">Estado <p-sortIcon field="estado"></p-sortIcon></th>
        <th>Acciones</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-reservacion>
      <tr>
        <td *ngIf="isAdmin">{{ reservacion.usuario.name }}</td>
        <td>{{ reservacion.espacio.nombre }}</td>
        <td>{{ reservacion.fecha_reseva | date:'longDate' }}</td>
        <td>
          <p-tag [severity]="getEstadoSeverity(reservacion.estado)" [value]="reservacion.estado"></p-tag>
        </td>
        <td>
          <p-button label="Detalles" icon="pi pi-info-circle" class="p-button-rounded"
            (click)="verDetalles(reservacion.id)"></p-button>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="footer">
      <tr>
        <td colspan="4" class="text-center text-sm text-gray-500">Mostrando {{ data.length }} reservaciones</td>
      </tr>
    </ng-template>
  </p-table>
</div>
